{% extends 'base.html.twig' %}

{% block title %}Fiche Pokédex - {{ pokemon.NameFr }}{% endblock %}

{% block body %}
<div class="mt-24">
    <div class="bg-neutral-600 rounded-lg mb-2 lg:mb-0 mx-auto w-11/12 text-white">
    <div class="flex justify-center items-center text-white bg-sky-400 rounded-t-lg">
        <h1 class="text-3xl py-8">Fiche Pokédex de {{ pokemon.NameFr }}</h1>
    </div>
    <div class="flex">
    <div class="w-1/3 border-r-2 border-sky-400">
        <img class="mx-auto" src="{{ pokemon.SpriteRegular }}">
        <div class="text-white mt-4">
            <div class="flex justify-center text-2xl">#{{ pokemon.PokedexId }}</div>
            <div class="bg-sky-400 h-px w-10/12 mx-auto my-2"></div>
            <div class="flex justify-center m-2"><img id="flag" src="/images/united-kingdom-uk-svgrepo-com.svg" alt="uk" class="h-6 mr-2">{{pokemon.NameEn}}</div>
            <div class="flex justify-center m-2"><img id="flag" src="/images/japan-svgrepo-com.svg" alt="jp" class="h-6 mr-2">{{pokemon.NameJp}}</div>
            <div class="bg-sky-400 h-px w-10/12 mx-auto my-2"></div>
            <div class="">
            {% for type in pokemon.PokemonHasType %}
                <div class="flex justify-center items-center"><img class="m-2 h-10" src="{{type.Logo}}">{{type.name}}</div>
            {% endfor %}
            </div>
            <div class="bg-sky-400 h-px w-10/12 mx-auto my-2"></div>
            <div class="flex justify-center m-2">Taille : {{pokemon.Height}}</div>
            <div class="flex justify-center m-2">Poids : {{pokemon.Weight}}</div>   
        </div>
    </div>
    <div class="w-2/3 px-5">
        <div class="my-2">Génération :</div>
        <div class="flex justify-center">{{pokemon.Generation.Number}}</div>
        <div class="my-2">Catégorie :</div>
        <div class="flex justify-center">{{pokemon.Category}}</div>
        <div class="my-2">Talent(s) :</div>
        <div>
            {% for ability in pokemon.PokemonHasAbility %}
            {% if ability.Hidden == 0 %}
                <div class="flex justify-center">{{ ability.Name }}</div>
            {% else %}
                <div class="flex justify-center">{{ ability.Name }}&nbsp;<div class="bg-sky-400 rounded-lg px-1">Talent caché</div></div>
            {% endif %}
            {% endfor %}
        </div>
        <div class="mt-5">
            <div class="my-2">Statistique de base :</div>
                <div class="flex justify-center">PV : {{pokemon.Hp}}</div>
                <div class="my-2 mx-auto h-4 relative w-9/12 rounded-full overflow-hidden">
                    <div class="w-full h-full bg-gray-200 absolute"></div>
                    <div class="h-full bg-sky-400 absolute" style="width: calc(({{pokemon.Hp}} / 255) * 100%);"></div>
                </div>
            <div class="flex justify-center">Attaque : {{pokemon.Atk}}</div>
            <div class="my-2 mx-auto h-4 relative w-9/12 rounded-full overflow-hidden">
                <div class="w-full h-full bg-gray-200 absolute"></div>
                <div class="h-full bg-sky-400 absolute" style="width: calc(({{pokemon.Atk}} / 255) * 100%);"></div>
            </div>
            <div class="flex justify-center">Défense : {{pokemon.Def}}</div>
            <div class="my-2 mx-auto h-4 relative w-9/12 rounded-full overflow-hidden">
                <div class="w-full h-full bg-gray-200 absolute"></div>
                <div class="h-full bg-sky-400 absolute" style="width: calc(({{pokemon.Def}} / 255) * 100%);"></div>
            </div>
            <div class="flex justify-center my-2">Attaque Spé : {{pokemon.SpeAtk}}</div>
            <div class="my-2 mx-auto h-4 relative w-9/12 rounded-full overflow-hidden">
                <div class="w-full h-full bg-gray-200 absolute"></div>
                <div class="h-full bg-sky-400 absolute" style="width: calc(({{pokemon.SpeAtk}} / 255) * 100%);"></div>
            </div>
            <div class="flex justify-center">Défense Spé : {{pokemon.SpeDef}}</div>
            <div class="my-2 mx-auto h-4 relative w-9/12 rounded-full overflow-hidden">
                <div class="w-full h-full bg-gray-200 absolute"></div>
                <div class="h-full bg-sky-400 absolute" style="width: calc(({{pokemon.SpeDef}} / 255) * 100%);"></div>
            </div>
            <div class="flex justify-center">Vitesse : {{pokemon.Vit}}</div>
            <div class="my-2 mx-auto h-4 relative w-9/12 rounded-full overflow-hidden">
                <div class="w-full h-full bg-gray-200 absolute"></div>
                <div class="h-full bg-sky-400 absolute" style="width: calc(({{pokemon.Vit}} / 255) * 100%);"></div>
            </div>
        </div>
        <div class="my-2">Lignée évolutive :</div>
        <div class="flex justify-around mx-auto w-10/12">
            {% if prevolutions %}
            <div>
                <div>Prévolution(s)</div>
                {% for prevol in prevolutions %}
                <a class="text-sky-400 hover:text-neutral-400" href="/pokemon/{{ prevol.pokedex_id }}"><img src="{{ prevol.sprite_regular }}" class="h-20">{{ prevol.name_fr }}</a>
                {% else %}
                <div class="hidden"></div>
                {% endfor %}
            </div>
            {% endif %}
            {% if pokemon.Evolution.empty %}
                <div class="hidden"></div>
            {% else %}
            <div>
            <div>Évolution(s)</div>
                {% for evol in pokemon.Evolution %}
                <a class="text-sky-400 hover:text-neutral-400" href="/pokemon/{{ evol.PokedexId }}"><img src="{{ evol.SpriteRegular }}" class="h-20">{{ evol.NameFr }}</a>                    
                {% endfor %}
            </div>
            {% endif %}
            </div>
        </div>
        </div>
    </div>
    </div>
</div>
{% endblock %}
